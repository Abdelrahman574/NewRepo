package tests;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.testng.Assert;
import org.testng.annotations.*;

public class LanguageTest {
    WebDriver driver;
    WebDriverWait wait;

    @BeforeClass
    public void setUp() {
        // set path to chromedriver if needed
        driver = new ChromeDriver();
        driver.manage().window().maximize();
        wait = new WebDriverWait(driver, 10);
    }

    @Test
    public void testLanguageFilter() {
        driver.get("https://www.radio-browser.info/");

        // Example: click link/tab for “By language” — adjust locator
        WebElement langTab = wait.until(
                ExpectedConditions.elementToBeClickable(By.linkText("By language"))
        );
        langTab.click();

        // Wait for the language list to load — adjust as needed
        WebElement langSelect = wait.until(
                ExpectedConditions.presenceOfElementLocated(By.tagName("select"))
        );
        Select select = new Select(langSelect);
        select.selectByVisibleText("Arabic");  // or any language you want to test

        // Then wait for results list to refresh — adjust locator to actual station list
        WebElement results = wait.until(
                ExpectedConditions.presenceOfElementLocated(By.id("stationsList"))  // example id
        );

        // Assert there is at least one station with language “Arabic”
        boolean found = results.getText().contains("Arabic");
        Assert.assertTrue(found, "Expected at least one station in Arabic language");
    }

    @AfterClass
    public void tearDown() {
        if (driver != null) {
            driver.quit();
        }
    }
}


